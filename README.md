이 프로젝트는 자율주행 로봇등에 대해 스스로 공부해보며 제작한 것이기 때문에 최대한 수정하려 노력해보았지만 특정 상황에서의 의도치않은 동작이나 버그가 발생할 수 있습니다.

PC방 자율주행 서빙 로봇 시뮬레이션 (PC-Bang Serving Robot)

좁은 통로와 동적 장애물(의자)이 빈번한 PC방 환경에 특화된 자율주행 서빙 로봇 시뮬레이터입니다. Python과 Matplotlib을 활용하여 구현하였으며, A* 알고리즘과 DWA(Dynamic Window Approach)를 결합하여 최적의 경로 생성 및 회피 주행을 구현했습니다.

기능 및 로직

좁은 통로에서의 동적 장애물(사람, 로봇) 판단 PC방 특성상 갑자기 의자가 튀어나오는(Pop-out) 상황을 시뮬레이션하고, 이에 대한 로봇의 능동적 판단 로직을 구현했습니다.
거리 비교 알고리즘: 장애물 감지 시, (우회 경로 거리) - (직선 최단 거리)를 실시간으로 계산합니다.
판단 및 행동:
우회 거리가 일정 거리 이하라면(적게 돌아가면) 우회하여 갑니다.
우회 거리가 너무 멀다면 주변에 요청하는 모드로 전환하게 됩니다.(서빙모드 -> 요청 모드)
사용자 상호작용
로봇이 주행 불가 상황에 처했을 때(요청 모드 상태) 보행자에게 비켜달라는 신호를 보내는 시각적 상호작용을 물결 표시로 구현했습니다.
신호를 보냈음에도 5초간 장애물이 사라지지 않으면 , 강제로 경로를 재탐색하여 주행 안정성을 확보했습니다.
정밀한 충돌 감지
로봇을 단순한 점(Point)이 아닌 직사각형 형태(0.48m x 0.52m)(실제 모델과 유사함)로 모델링했습니다.
좁은 코너를 회전할 때 로봇의 모서리가 벽에 닿는지 정밀하게 계산하여, 현실적인 주행이 가능하도록 DWA 알고리즘을 최적화했습니다.
실행 방법

Python으로 실행하셔야 합니다.
pip install matplotlib numpy 를 입력하여 matplotlib라이브러리 설치하셔야 합니다.
실행 시 랜덤 목적지로 로봇이 주행을 시작하며 출발점으로 돌아올 때까지 실행을 합니다.
화면 우측 하단의 Restart 버튼을 클릭시 초기화 됩니다.
문제 발생 및 그 문제 해결 과정

좁은 통로에서의 무한 대기(Deadlock) 양 옆이 벽인 좁은 통로에서 장애물을 만나면 DWA가 갈 곳을 찾지 못해 제자리에서 멈춰버림 원인: DWA는 지역계획이라 멀리 돌아가는 길을 찾지 못함. 해결: A알고리즘(전역계획)으로 Deadlock 상황에서 A알고리즘을 재호출하여 새로운 길을 찾도록 변경
과도한 우회로 인한 비효율 아주 작은 장애물인데도 로봇이 맵 끝까지 돌아서 가려고 하여 배달 시간이 2배 이상 걸림. 원인: 장애물 회피 비용(Cost)이 너무 낮게 설정되어 있어 기다리는 것보다 무조건 돌아가는 게 낫다고 판단. 해결: 우회 경로의 길이를 계산하는 로직 투가. 우회거리 > 2.5m 이라면 돌아가지 말고 비켜달라고 하는 임계값 로직 도입. 결과적으로 사람처럼 융통성 있는 주행 구현
모서리 막힘 상황 초기 로봇을 원형으로 모델링하여 모서리를 지나갈 때 장애물로 감지 못하고 막혀버림. 원인: 로봇 중심에서 장애물까지의 거리만 계산하여 회전시 튀어나오는 모서리 부분을 인식하지 못함. 해결: 로봇을 직사각형으로 모델링 변경. DWA시뮬레이션 단계에서 로봇의 회전각도를 반영한 4개의 꼭짓점 좌표를 매번 다시 계산하여 엄격한 충돌검사 로직 적용
